<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/svg+xml" href="favicon.svg">
  <title>Staqd â€” Stacked PR merge queue powered by GitHub Actions</title>
  <meta name="description" content="No CLI to install. No SaaS dependency. One workflow file is all you need.">

  <!-- OpenGraph -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="Staqd â€” Stacked PR merge queue">
  <meta property="og:description" content="Stacked PR merge queue powered by GitHub Actions and PR comments. No CLI, no SaaS, one workflow file.">
  <meta property="og:url" content="https://siner308.github.io/staqd/">
  <meta property="og:image" content="https://siner308.github.io/staqd/social-preview.png">
  <meta property="og:image:width" content="1280">
  <meta property="og:image:height" content="640">
  <meta property="og:site_name" content="Staqd">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Staqd â€” Stacked PR merge queue">
  <meta name="twitter:description" content="Stacked PR merge queue powered by GitHub Actions and PR comments. No CLI, no SaaS, one workflow file.">
  <meta name="twitter:image" content="https://siner308.github.io/staqd/social-preview.png">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600;700&family=Space+Grotesk:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --bg: #0a0a0f;
      --surface: #141418;
      --border: #1f1f28;
      --text: #e8e8ea;
      --text-dim: #9898a0;
      --purple: #8b5cf6;
      --purple-dark: #6b46c1;
      --purple-glow: rgba(139, 92, 246, 0.15);
      --green: #10b981;
      --spacing: clamp(1rem, 3vw, 2rem);
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      font-family: 'Space Grotesk', -apple-system, BlinkMacSystemFont, sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
      overflow-x: hidden;
    }

    /* Background grid effect */
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image:
        linear-gradient(rgba(139, 92, 246, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(139, 92, 246, 0.03) 1px, transparent 1px);
      background-size: 60px 60px;
      z-index: -1;
      pointer-events: none;
    }

    code, pre {
      font-family: 'JetBrains Mono', 'Menlo', monospace;
    }

    /* Container */
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 var(--spacing);
    }

    /* Language Toggle */
    .lang-toggle {
      position: fixed;
      top: 1.5rem;
      right: 1.5rem;
      display: flex;
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 100px;
      overflow: hidden;
      z-index: 100;
      font-size: 0.85rem;
      font-weight: 600;
    }

    .lang-toggle button {
      background: transparent;
      border: none;
      color: var(--text-dim);
      padding: 0.4rem 0.9rem;
      cursor: pointer;
      font-family: inherit;
      font-size: inherit;
      font-weight: inherit;
      transition: all 0.2s ease;
    }

    .lang-toggle button.active {
      background: var(--purple);
      color: white;
    }

    .lang-toggle button:hover:not(.active) {
      color: var(--text);
    }

    /* Markdown Menu */
    .md-menu {
      position: fixed;
      top: 1.5rem;
      right: 7.5rem;
      z-index: 100;
    }

    .md-menu-trigger {
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 100px;
      color: var(--text-dim);
      padding: 0.4rem 0.9rem;
      font-family: inherit;
      font-size: 0.85rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .md-menu-trigger:hover {
      border-color: var(--purple);
      color: var(--text);
    }

    .md-menu-trigger svg {
      width: 14px;
      height: 14px;
      flex-shrink: 0;
    }

    .md-menu-chevron {
      width: 10px !important;
      height: 10px !important;
      transition: transform 0.2s ease;
    }

    .md-menu.open .md-menu-chevron {
      transform: rotate(180deg);
    }

    .md-menu-dropdown {
      position: absolute;
      top: calc(100% + 0.5rem);
      right: 0;
      min-width: 240px;
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 0.5rem;
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.4);
      opacity: 0;
      visibility: hidden;
      transform: translateY(-4px);
      transition: all 0.2s ease;
    }

    .md-menu.open .md-menu-dropdown {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }

    .md-menu-item {
      display: flex;
      align-items: flex-start;
      gap: 0.75rem;
      padding: 0.75rem;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.15s ease;
      text-decoration: none;
      color: inherit;
      border: none;
      background: none;
      width: 100%;
      font-family: inherit;
      text-align: left;
    }

    .md-menu-item:hover {
      background: rgba(139, 92, 246, 0.1);
    }

    .md-menu-item svg {
      width: 18px;
      height: 18px;
      color: var(--text-dim);
      flex-shrink: 0;
      margin-top: 0.1rem;
    }

    .md-menu-item-text {
      display: flex;
      flex-direction: column;
      gap: 0.1rem;
    }

    .md-menu-item-title {
      font-size: 0.9rem;
      font-weight: 600;
      color: var(--text);
    }

    .md-menu-item-desc {
      font-size: 0.75rem;
      color: var(--text-dim);
    }

    .md-menu-item .arrow-icon {
      width: 12px;
      height: 12px;
      margin-left: auto;
      margin-top: 0.25rem;
      color: var(--text-dim);
    }

    @media (max-width: 768px) {
      .md-menu {
        right: auto;
        left: 1.5rem;
      }
    }

    /* Hero */
    .hero {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      position: relative;
      padding: 4rem var(--spacing);
    }

    .hero::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 600px;
      height: 600px;
      background: radial-gradient(circle, var(--purple-glow) 0%, transparent 70%);
      z-index: -1;
      animation: pulse 8s ease-in-out infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 0.3; transform: translate(-50%, -50%) scale(1); }
      50% { opacity: 0.6; transform: translate(-50%, -50%) scale(1.1); }
    }

    .hero-badge {
      display: inline-block;
      padding: 0.4rem 1rem;
      border: 1px solid var(--border);
      border-radius: 100px;
      font-size: 0.85rem;
      font-weight: 600;
      color: var(--text-dim);
      margin-bottom: 2rem;
      letter-spacing: 0.05em;
      text-transform: uppercase;
    }

    h1 {
      font-size: clamp(3.5rem, 10vw, 7rem);
      font-weight: 700;
      line-height: 1;
      margin-bottom: 1rem;
      letter-spacing: -0.03em;
      background: linear-gradient(135deg, var(--text) 0%, var(--purple) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: fadeInUp 0.8s ease-out;
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .pronunciation {
      font-size: clamp(1rem, 2.5vw, 1.5rem);
      color: var(--text-dim);
      margin-bottom: 1.5rem;
      font-weight: 300;
      animation: fadeInUp 0.8s ease-out 0.1s both;
    }

    .tagline {
      font-size: clamp(1.2rem, 3vw, 1.8rem);
      color: var(--text);
      max-width: 700px;
      margin: 0 auto 3rem;
      font-weight: 400;
      line-height: 1.5;
      animation: fadeInUp 0.8s ease-out 0.2s both;
    }

    .hero-cta {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
      justify-content: center;
      animation: fadeInUp 0.8s ease-out 0.3s both;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 1rem 2rem;
      border-radius: 8px;
      font-weight: 600;
      font-size: 1rem;
      text-decoration: none;
      transition: all 0.2s ease;
      border: 2px solid transparent;
    }

    .btn-primary {
      background: var(--purple);
      color: white;
      box-shadow: 0 0 30px var(--purple-glow);
    }

    .btn-primary:hover {
      background: var(--purple-dark);
      transform: translateY(-2px);
      box-shadow: 0 0 40px var(--purple-glow);
    }

    .btn-secondary {
      background: transparent;
      color: var(--text);
      border-color: var(--border);
    }

    .btn-secondary:hover {
      border-color: var(--purple);
      color: var(--purple);
    }

    /* Section */
    section {
      padding: 6rem 0;
      position: relative;
    }

    h2 {
      font-size: clamp(2rem, 5vw, 3rem);
      font-weight: 700;
      margin-bottom: 1rem;
      letter-spacing: -0.02em;
    }

    .section-intro {
      font-size: 1.2rem;
      color: var(--text-dim);
      max-width: 600px;
      margin-bottom: 3rem;
    }

    /* Zero Setup Badges */
    .badges {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
      margin-top: 3rem;
    }

    .badge-card {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 2.5rem 2rem;
      text-align: center;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .badge-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(90deg, var(--purple), var(--green));
      transform: scaleX(0);
      transform-origin: left;
      transition: transform 0.3s ease;
    }

    .badge-card:hover::before {
      transform: scaleX(1);
    }

    .badge-card:hover {
      transform: translateY(-4px);
      border-color: var(--purple);
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
    }

    .badge-icon {
      font-size: 3rem;
      margin-bottom: 1rem;
    }

    .badge-card h3 {
      font-size: 1.5rem;
      margin-bottom: 0.5rem;
      color: var(--purple);
    }

    .badge-card p {
      color: var(--text-dim);
      font-size: 0.95rem;
    }

    /* Code Block */
    .code-block {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 2rem;
      margin: 2rem 0;
      position: relative;
      overflow-x: auto;
    }

    .code-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
      padding-bottom: 1rem;
      border-bottom: 1px solid var(--border);
    }

    .code-lang {
      font-size: 0.85rem;
      color: var(--text-dim);
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .copy-btn {
      background: transparent;
      border: 1px solid var(--border);
      border-radius: 6px;
      color: var(--text-dim);
      padding: 0.3rem 0.7rem;
      font-size: 0.8rem;
      cursor: pointer;
      transition: all 0.2s ease;
      font-family: 'Space Grotesk', sans-serif;
    }

    .copy-btn:hover {
      border-color: var(--purple);
      color: var(--purple);
    }

    .copy-btn.copied {
      border-color: var(--green);
      color: var(--green);
    }

    pre {
      margin: 0;
      overflow-x: auto;
    }

    pre code {
      display: block;
      color: var(--text);
      font-size: 0.9rem;
      line-height: 1.7;
      white-space: pre;
    }

    .code-keyword { color: #c792ea; }
    .code-string { color: #c3e88d; }
    .code-comment { color: #546e7a; }
    .code-function { color: #82aaff; }
    .code-property { color: #f07178; }

    /* Commands Table */
    .commands-table {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 12px;
      overflow: hidden;
      margin: 2rem 0;
    }

    table {
      width: 100%;
      border-collapse: collapse;
    }

    thead {
      background: var(--bg);
    }

    th {
      text-align: left;
      padding: 1.25rem 1.5rem;
      font-weight: 600;
      color: var(--purple);
      border-bottom: 1px solid var(--border);
    }

    td {
      padding: 1.25rem 1.5rem;
      border-bottom: 1px solid var(--border);
    }

    tr:last-child td {
      border-bottom: none;
    }

    tbody tr {
      transition: background 0.2s ease;
    }

    tbody tr:hover {
      background: rgba(139, 92, 246, 0.05);
    }

    td:first-child {
      font-family: 'JetBrains Mono', monospace;
      color: var(--purple);
      font-weight: 600;
    }

    /* Command Cards */
    .command-cards {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
    }

    .command-card {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 2rem;
      transition: all 0.3s ease;
    }

    .command-card:hover {
      border-color: var(--purple);
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
    }

    .command-header {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-bottom: 0.75rem;
    }

    .command-name {
      font-size: 1.2rem;
      font-weight: 700;
      color: var(--purple);
    }

    .command-badge {
      font-size: 0.7rem;
      font-weight: 600;
      padding: 0.2rem 0.6rem;
      border-radius: 100px;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .command-badge-write {
      background: rgba(139, 92, 246, 0.15);
      color: var(--purple);
      border: 1px solid rgba(139, 92, 246, 0.3);
    }

    .command-desc {
      color: var(--text-dim);
      font-size: 1rem;
      line-height: 1.6;
      margin-bottom: 1rem;
    }

    .command-details {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
      padding-top: 1rem;
      border-top: 1px solid var(--border);
    }

    .command-detail-item {
      display: grid;
      grid-template-columns: 140px 1fr;
      gap: 1rem;
      font-size: 0.9rem;
      align-items: start;
    }

    .command-detail-label {
      color: var(--text-dim);
      font-weight: 600;
      text-transform: uppercase;
      font-size: 0.75rem;
      letter-spacing: 0.05em;
      padding-top: 0.15rem;
    }

    .command-example {
      margin-top: 0.5rem;
    }

    .command-example pre {
      background: var(--bg);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 1rem;
    }

    .command-example code {
      font-size: 0.8rem;
      line-height: 1.6;
    }

    @media (max-width: 768px) {
      .command-detail-item {
        grid-template-columns: 1fr;
        gap: 0.25rem;
      }
    }

    /* How It Works */
    .diagram {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 3rem 2rem;
      margin: 3rem 0;
      overflow-x: auto;
    }

    .diagram pre {
      color: var(--text-dim);
      font-size: 0.85rem;
      line-height: 1.8;
      margin: 0;
    }

    .diagram-label {
      color: var(--purple);
      font-weight: 600;
      margin-bottom: 1rem;
      display: block;
    }

    /* Comparison Table */
    .comparison {
      margin: 3rem 0;
      overflow-x: auto;
    }

    .comparison table {
      min-width: 600px;
    }

    .comparison th:first-child,
    .comparison td:first-child {
      font-weight: 600;
      color: var(--text);
    }

    .comparison .highlight {
      background: rgba(139, 92, 246, 0.1);
      font-weight: 600;
    }

    /* Footer */
    footer {
      border-top: 1px solid var(--border);
      padding: 3rem 0;
      text-align: center;
    }

    .footer-content {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      align-items: center;
    }

    .footer-links {
      display: flex;
      gap: 2rem;
      flex-wrap: wrap;
      justify-content: center;
    }

    .footer-links a {
      color: var(--text-dim);
      text-decoration: none;
      transition: color 0.2s ease;
    }

    .footer-links a:hover {
      color: var(--purple);
    }

    .footer-copy {
      color: var(--text-dim);
      font-size: 0.9rem;
    }

    /* Scroll hint */
    .scroll-hint {
      position: absolute;
      bottom: 2rem;
      left: 50%;
      transform: translateX(-50%);
      animation: bounce 2s ease-in-out infinite;
      color: var(--text-dim);
      font-size: 2rem;
    }

    @keyframes bounce {
      0%, 100% { transform: translate(-50%, 0); }
      50% { transform: translate(-50%, 10px); }
    }

    /* Responsive */
    @media (max-width: 768px) {
      .hero {
        min-height: 80vh;
      }

      .badges {
        grid-template-columns: 1fr;
      }

      .hero-cta {
        flex-direction: column;
        width: 100%;
      }

      .btn {
        width: 100%;
        justify-content: center;
      }

      section {
        padding: 3rem 0;
      }

      .code-block {
        padding: 1.5rem 1rem;
      }

      table {
        font-size: 0.9rem;
      }

      th, td {
        padding: 1rem;
      }
    }

    /* Anchor links */
    [id] {
      scroll-margin-top: 2rem;
    }

    h2 {
      position: relative;
    }

    h2 .anchor-link {
      display: inline-block;
      margin-left: 0.4em;
      color: var(--purple);
      text-decoration: none;
      opacity: 0;
      transition: opacity 0.2s ease;
      font-size: 0.6em;
      vertical-align: middle;
      cursor: pointer;
    }

    h2:hover .anchor-link,
    h2 .anchor-link:focus {
      opacity: 0.6;
    }

    h2 .anchor-link:hover {
      opacity: 1;
    }

    /* Command card anchors */
    .command-card[id] {
      scroll-margin-top: 2rem;
    }

    .command-header .cmd-anchor {
      color: var(--purple);
      text-decoration: none;
      opacity: 0;
      transition: opacity 0.2s ease;
      margin-left: auto;
      font-size: 0.9em;
      cursor: pointer;
    }

    .command-card:hover .cmd-anchor,
    .command-header .cmd-anchor:focus {
      opacity: 0.6;
    }

    .command-header .cmd-anchor:hover {
      opacity: 1;
    }

    /* Anchor highlight flash */
    @keyframes anchor-flash {
      0% { background: rgba(139, 92, 246, 0.2); }
      100% { background: transparent; }
    }

    :target {
      animation: anchor-flash 1.5s ease-out;
    }

    /* Copy toast */
    .copy-toast {
      position: fixed;
      bottom: 2rem;
      left: 50%;
      transform: translateX(-50%) translateY(100%);
      background: var(--purple);
      color: white;
      padding: 0.6rem 1.2rem;
      border-radius: 8px;
      font-size: 0.9rem;
      font-weight: 600;
      opacity: 0;
      transition: all 0.3s ease;
      pointer-events: none;
      z-index: 1000;
    }

    .copy-toast.show {
      opacity: 1;
      transform: translateX(-50%) translateY(0);
    }

    /* Utility */
    .text-center {
      text-align: center;
    }

    .mt-4 {
      margin-top: 4rem;
    }
  </style>
</head>
<body>

  <!-- Language Toggle -->
  <div class="lang-toggle">
    <button id="lang-en" class="active" onclick="setLang('en')">EN</button>
    <button id="lang-ko" onclick="setLang('ko')">KO</button>
  </div>

  <!-- Markdown Menu -->
  <div class="md-menu" id="md-menu">
    <button class="md-menu-trigger" onclick="toggleMdMenu()">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2"/><path d="M8 7v10"/><path d="M8 12h4l-4-5"/><path d="M16 7v10"/><path d="M12 12h4l-4 5"/></svg>
      <span data-i18n="md.trigger">Copy page</span>
      <svg class="md-menu-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"/></svg>
    </button>
    <div class="md-menu-dropdown">
      <button class="md-menu-item" onclick="copyPageMarkdown()">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
        <div class="md-menu-item-text">
          <span class="md-menu-item-title" data-i18n="md.copyTitle">Copy page</span>
          <span class="md-menu-item-desc" data-i18n="md.copyDesc">Copy page as Markdown for LLMs</span>
        </div>
      </button>
      <a class="md-menu-item" href="llms-full.txt" target="_blank">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/></svg>
        <div class="md-menu-item-text">
          <span class="md-menu-item-title" data-i18n="md.viewTitle">View as Markdown</span>
          <span class="md-menu-item-desc" data-i18n="md.viewDesc">View this page as plain text</span>
        </div>
        <svg class="arrow-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="7" y1="17" x2="17" y2="7"/><polyline points="7 7 17 7 17 17"/></svg>
      </a>
    </div>
  </div>

  <!-- Hero Section -->
  <section class="hero">
    <div class="hero-badge" data-i18n="hero.badge">Open Source Â· MIT License</div>
    <img src="favicon.svg" alt="Staqd" width="120" height="120" style="margin-bottom: 1.5rem; animation: fadeInUp 0.8s ease-out;">
    <h1>Staqd</h1>
    <p class="pronunciation" data-i18n="hero.pronunciation">/stakt/ â€” like "stacked"</p>
    <p class="tagline" data-i18n="hero.tagline">Stacked PR merge queue powered by GitHub Actions and PR comments</p>
    <div class="hero-cta">
      <a href="https://github.com/siner308/staqd" class="btn btn-primary">
        <span data-i18n="hero.viewGithub">View on GitHub</span>
        <span>â†’</span>
      </a>
      <a href="#quickstart" class="btn btn-secondary" data-i18n="hero.getStarted">Get Started</a>
    </div>
    <div class="scroll-hint">â†“</div>
  </section>

  <!-- Zero Setup -->
  <section id="features">
    <div class="container">
      <h2 id="features-heading"><span data-i18n="features.heading">Zero Setup Tax</span><a href="#features-heading" class="anchor-link" aria-label="Link to this section">#</a></h2>
      <p class="section-intro" data-i18n="features.intro">No CLI to install. No SaaS dependency. One workflow file is all you need.</p>
      <div class="badges">
        <div class="badge-card">
          <div class="badge-icon">ğŸš«</div>
          <h3 data-i18n="features.noCli">No CLI</h3>
          <p data-i18n="features.noCliDesc">Pure GitHub Actions. No binary to install, update, or maintain across your team.</p>
        </div>
        <div class="badge-card">
          <div class="badge-icon">â˜ï¸</div>
          <h3 data-i18n="features.noSaas">No SaaS</h3>
          <p data-i18n="features.noSaasDesc">No external service, no account creation, no API quotas. Your repo, your control.</p>
        </div>
        <div class="badge-card">
          <div class="badge-icon">ğŸ“„</div>
          <h3 data-i18n="features.justYaml">Just YAML</h3>
          <p data-i18n="features.justYamlDesc">One workflow file. Copy, commit, done. Stack metadata lives in PR body comments.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Quick Start -->
  <section id="quickstart">
    <div class="container">
      <h2 id="quickstart-heading"><span data-i18n="quickstart.heading">Quick Start</span><a href="#quickstart-heading" class="anchor-link" aria-label="Link to this section">#</a></h2>
      <p class="section-intro" data-i18n-html="quickstart.intro">Add this workflow to <code>.github/workflows/staqd.yml</code></p>

      <div class="code-block">
        <div class="code-header">
          <span class="code-lang">YAML</span>
          <button class="copy-btn" data-i18n="common.copy" onclick="copyCode(this)">Copy</button>
        </div>
        <pre><code><span class="code-keyword">name:</span> Staqd

<span class="code-keyword">on:</span>
  <span class="code-property">pull_request:</span>
    <span class="code-property">types:</span> [opened, edited, closed]
  <span class="code-property">issue_comment:</span>
    <span class="code-property">types:</span> [created]

<span class="code-keyword">permissions:</span>
  <span class="code-property">contents:</span> write
  <span class="code-property">pull-requests:</span> write
  <span class="code-property">issues:</span> write
  <span class="code-property">checks:</span> read

<span class="code-keyword">jobs:</span>
  <span class="code-property">staqd:</span>
    <span class="code-keyword">uses:</span> siner308/staqd/.github/workflows/staqd.yml@v0.1</code></pre>
      </div>
    </div>
  </section>

  <!-- Commands -->
  <section id="commands">
    <div class="container">
      <h2 id="commands-heading"><span data-i18n="commands.heading">Commands</span><a href="#commands-heading" class="anchor-link" aria-label="Link to this section">#</a></h2>
      <p class="section-intro" data-i18n-html="commands.intro">Comment on a PR to trigger actions. All commands support the short alias <code>st</code> (e.g., <code>st merge</code>).</p>

      <div class="command-cards">
        <div id="cmd-discover" class="command-card">
          <div class="command-header">
            <code class="command-name">stack discover</code>
            <a href="#cmd-discover" class="cmd-anchor" aria-label="Link to this command">#</a>
          </div>
          <p class="command-desc" data-i18n="cmd.discover.desc">Auto-detect the stack tree by scanning open PRs' base branch relationships. No manual metadata setup needed.</p>
          <div class="command-details">
            <div class="command-detail-item">
              <span class="command-detail-label" data-i18n="common.whenToUse">When to use</span>
              <span data-i18n="cmd.discover.when">After creating stacked PRs, or when you re-target a PR's base branch to form a new stack</span>
            </div>
            <div class="command-detail-item">
              <span class="command-detail-label" data-i18n="common.whatItDoes">What it does</span>
              <span data-i18n="cmd.discover.what">Recursively finds child PRs via base branch, updates metadata in each PR body, and reports if any children need restacking</span>
            </div>
            <div class="command-detail-item">
              <span class="command-detail-label" data-i18n="common.exampleOutput">Example output</span>
              <div class="command-example">
                <pre><code>- #1 (<span class="code-string">feat-auth</span>) â†’ #2
  - #2 (<span class="code-string">feat-auth-ui</span>) â†’ #3 <span class="code-property">âš ï¸</span>
    - #3 (<span class="code-string">feat-auth-tests</span>)

<span class="code-property">âš ï¸ Some PRs are out of date.</span>
<span class="code-property">Run st restack on the parent PR.</span></code></pre>
              </div>
            </div>
          </div>
        </div>

        <div id="cmd-restack" class="command-card">
          <div class="command-header">
            <code class="command-name">stack restack</code>
            <span class="command-badge command-badge-write">push</span>
            <a href="#cmd-restack" class="cmd-anchor" aria-label="Link to this command">#</a>
          </div>
          <p class="command-desc" data-i18n="cmd.restack.desc">Rebase all direct child branches onto this PR's latest head. Use after pushing new commits to a parent PR.</p>
          <div class="command-details">
            <div class="command-detail-item">
              <span class="command-detail-label" data-i18n="common.whenToUse">When to use</span>
              <span data-i18n-html="cmd.restack.when">After updating a parent PR with new commits, or when <code>st discover</code> shows âš ï¸ indicators</span>
            </div>
            <div class="command-detail-item">
              <span class="command-detail-label" data-i18n="common.whatItDoes">What it does</span>
              <span data-i18n-html="cmd.restack.what">Runs <code>git rebase --onto</code> for each child branch and force-pushes. Posts conflict resolution commands if rebase fails</span>
            </div>
          </div>
        </div>

        <div id="cmd-merge" class="command-card">
          <div class="command-header">
            <code class="command-name">stack merge</code>
            <span class="command-badge command-badge-write">merge + push</span>
            <a href="#cmd-merge" class="cmd-anchor" aria-label="Link to this command">#</a>
          </div>
          <p class="command-desc" data-i18n="cmd.merge.desc">Merge this PR into its base branch, then automatically restack all child branches.</p>
          <div class="command-details">
            <div class="command-detail-item">
              <span class="command-detail-label" data-i18n="common.whenToUse">When to use</span>
              <span data-i18n="cmd.merge.when">When this PR is approved and ready to merge, but child PRs still need more work</span>
            </div>
            <div class="command-detail-item">
              <span class="command-detail-label" data-i18n="common.whatItDoes">What it does</span>
              <span data-i18n-html="cmd.merge.what">Squash-merges the PR, rebases children onto the base branch (e.g., <code>main</code>), and updates each child's base branch reference</span>
            </div>
          </div>
        </div>

        <div id="cmd-merge-all" class="command-card">
          <div class="command-header">
            <code class="command-name">stack merge-all</code>
            <span class="command-badge command-badge-write">merge + push</span>
            <a href="#cmd-merge-all" class="cmd-anchor" aria-label="Link to this command">#</a>
          </div>
          <p class="command-desc" data-i18n="cmd.mergeAll.desc">Merge the entire stack in DFS order. Each PR is rebased, merged, then its children are processed.</p>
          <div class="command-details">
            <div class="command-detail-item">
              <span class="command-detail-label" data-i18n="common.whenToUse">When to use</span>
              <span data-i18n="cmd.mergeAll.when">When the entire stack is reviewed and approved â€” merge everything at once</span>
            </div>
            <div class="command-detail-item">
              <span class="command-detail-label" data-i18n="common.whatItDoes">What it does</span>
              <span data-i18n="cmd.mergeAll.what">Checks approval status on all PRs, then sequentially rebases and merges each one. Retries up to 10 min per PR for CI to pass</span>
            </div>
            <div class="command-detail-item">
              <span class="command-detail-label" data-i18n="common.options">Options</span>
              <span data-i18n-html="cmd.mergeAll.options">Add <code>--force</code> to skip the approval check (e.g., <code>st merge-all --force</code>)</span>
            </div>
          </div>
        </div>

        <div id="cmd-help" class="command-card">
          <div class="command-header">
            <code class="command-name">stack help</code>
            <a href="#cmd-help" class="cmd-anchor" aria-label="Link to this command">#</a>
          </div>
          <p class="command-desc" data-i18n="cmd.help.desc">Show available commands and the current stack structure detected from metadata.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Auto-update -->
  <section id="auto-update">
    <div class="container">
      <h2 id="auto-update-heading"><span data-i18n="autoupdate.heading">Auto-update on Manual Merge</span><a href="#auto-update-heading" class="anchor-link" aria-label="Link to this section">#</a></h2>
      <p class="section-intro" data-i18n-html="autoupdate.intro">Merged a parent PR through GitHub UI instead of <code>st merge</code>? Staqd has you covered.</p>

      <div class="command-card">
        <p class="command-desc" style="margin-bottom: 0;" data-i18n-html="autoupdate.desc">
          When a parent PR with stack metadata is merged (by any method), Staqd automatically detects the <code>closed</code> event and:
        </p>
        <div class="command-details">
          <div class="command-detail-item">
            <span class="command-detail-label" data-i18n="common.baseUpdate">Base update</span>
            <span data-i18n-html="autoupdate.baseUpdate">Each child PR's base branch is re-targeted to the parent's base (e.g., <code>main</code>), preventing orphaned PRs</span>
          </div>
          <div class="command-detail-item">
            <span class="command-detail-label" data-i18n="common.notification">Notification</span>
            <span data-i18n-html="autoupdate.notification">A comment is posted on each child PR with the updated base and a reminder to run <code>st restack</code> if needed</span>
          </div>
          <div class="command-detail-item">
            <span class="command-detail-label" data-i18n="common.requirement">Requirement</span>
            <span data-i18n-html="autoupdate.requirement">Add <code>closed</code> to your workflow's <code>pull_request.types</code>: <code>[opened, edited, closed]</code></span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- How It Works -->
  <section id="how-it-works">
    <div class="container">
      <h2 id="how-it-works-heading"><span data-i18n="howitworks.heading">How It Works</span><a href="#how-it-works-heading" class="anchor-link" aria-label="Link to this section">#</a></h2>
      <p class="section-intro" data-i18n="howitworks.intro">Everything reduces to one elegant git command:</p>

      <div class="code-block">
        <pre><code>git rebase --onto &lt;new_base&gt; &lt;old_parent_tip_sha&gt; &lt;child_branch&gt;</code></pre>
      </div>

      <div class="diagram">
        <span class="diagram-label" data-i18n="howitworks.diagramBefore">Before (feat-1 squash-merged into main):</span>
        <pre>main:     Aâ”€â”€â”€Bâ”€â”€â”€CD'          <span class="code-comment">(C+D squashed into new commit)</span>
feat-2:       Câ”€â”€â”€Dâ”€â”€â”€Eâ”€â”€â”€F    <span class="code-comment">(still contains original C, D)</span></pre>

        <span class="diagram-label" style="margin-top: 2rem;" data-i18n="howitworks.diagramAfter">After rebasing:</span>
        <pre>git rebase --onto main &lt;SHA_of_D&gt; feat-2

main:     Aâ”€â”€â”€Bâ”€â”€â”€CD'
                    \
feat-2:              E'â”€â”€â”€F'   <span class="code-comment">(C, D removed; only E, F rebased)</span></pre>
      </div>

      <p style="color: var(--text-dim); margin-top: 2rem;" data-i18n-html="howitworks.explanation">
        The skip SHA (<code>old_parent_tip_sha</code>) comes from GitHub's PR API, which preserves <code>head.sha</code> even after merge. No database needed.
      </p>
    </div>
  </section>

  <!-- Comparison -->
  <section id="comparison">
    <div class="container">
      <h2 id="comparison-heading"><span data-i18n="comparison.heading">Comparison</span><a href="#comparison-heading" class="anchor-link" aria-label="Link to this section">#</a></h2>
      <p class="section-intro" data-i18n="comparison.intro">How Staqd compares to other stacked PR tools</p>

      <div class="comparison">
        <div class="commands-table">
          <table>
            <thead>
              <tr>
                <th></th>
                <th class="highlight">Staqd</th>
                <th>Graphite</th>
                <th>ghstack</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td data-i18n="comparison.installation">Installation</td>
                <td class="highlight" data-i18n="comparison.staqd.installation">None (workflow file)</td>
                <td data-i18n="comparison.graphite.installation">CLI + account</td>
                <td>CLI</td>
              </tr>
              <tr>
                <td data-i18n="comparison.stackStorage">Stack storage</td>
                <td class="highlight" data-i18n="comparison.staqd.storage">PR body HTML comments</td>
                <td data-i18n="comparison.graphite.storage">.graphite_info + server</td>
                <td data-i18n="comparison.ghstack.storage">Commit metadata</td>
              </tr>
              <tr>
                <td data-i18n="comparison.restackTrigger">Restack trigger</td>
                <td class="highlight" data-i18n="comparison.staqd.trigger">PR comment</td>
                <td>gt restack CLI</td>
                <td>ghstack CLI</td>
              </tr>
              <tr>
                <td data-i18n="comparison.conflictResolution">Conflict resolution</td>
                <td class="highlight" data-i18n="comparison.staqd.conflict">Async (Actions â†’ local fix â†’ push)</td>
                <td data-i18n="comparison.graphite.conflict">Sync (terminal)</td>
                <td data-i18n="comparison.ghstack.conflict">Sync (terminal)</td>
              </tr>
              <tr>
                <td data-i18n="comparison.treeStacks">Tree stacks</td>
                <td class="highlight" data-i18n="comparison.staqd.tree">Supported (siblings)</td>
                <td data-i18n="comparison.graphite.tree">Supported (DAG)</td>
                <td data-i18n="comparison.ghstack.tree">Linear only</td>
              </tr>
              <tr>
                <td data-i18n="comparison.mergeQueue">Merge queue</td>
                <td class="highlight" data-i18n="comparison.staqd.mergeQueue">Comment-based</td>
                <td data-i18n="comparison.graphite.mergeQueue">Dedicated UI</td>
                <td data-i18n="comparison.ghstack.mergeQueue">None</td>
              </tr>
              <tr>
                <td data-i18n="comparison.externalDep">External dependency</td>
                <td class="highlight" data-i18n="comparison.staqd.external">None</td>
                <td>SaaS</td>
                <td data-i18n="comparison.ghstack.external">None</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <div class="container">
      <div class="footer-content">
        <div class="footer-links">
          <a href="https://github.com/siner308/staqd">GitHub</a>
          <a href="https://github.com/siner308/staqd/blob/main/README.md" data-i18n="footer.docs">Documentation</a>
          <a href="https://github.com/siner308/staqd/issues" data-i18n="footer.issues">Issues</a>
          <a href="https://github.com/siner308/staqd/blob/main/LICENSE" data-i18n="footer.license">License</a>
        </div>
        <p class="footer-copy" data-i18n-html="footer.copy">
          MIT License Â© 2025 siner308 Â· Built with â¤ï¸ for developers who stack PRs
        </p>
      </div>
    </div>
  </footer>

  <!-- Copy toast notification -->
  <div class="copy-toast" id="copy-toast" data-i18n="toast.linkCopied">Link copied!</div>

  <script>
    // i18n translations
    var translations = {
      en: {
        'hero.badge': 'Open Source Â· MIT License',
        'hero.pronunciation': '/stakt/ â€” like "stacked"',
        'hero.tagline': 'Stacked PR merge queue powered by GitHub Actions and PR comments',
        'hero.viewGithub': 'View on GitHub',
        'hero.getStarted': 'Get Started',

        'features.heading': 'Zero Setup Tax',
        'features.intro': 'No CLI to install. No SaaS dependency. One workflow file is all you need.',
        'features.noCli': 'No CLI',
        'features.noCliDesc': 'Pure GitHub Actions. No binary to install, update, or maintain across your team.',
        'features.noSaas': 'No SaaS',
        'features.noSaasDesc': 'No external service, no account creation, no API quotas. Your repo, your control.',
        'features.justYaml': 'Just YAML',
        'features.justYamlDesc': 'One workflow file. Copy, commit, done. Stack metadata lives in PR body comments.',

        'quickstart.heading': 'Quick Start',
        'quickstart.intro': 'Add this workflow to <code>.github/workflows/staqd.yml</code>',

        'commands.heading': 'Commands',
        'commands.intro': 'Comment on a PR to trigger actions. All commands support the short alias <code>st</code> (e.g., <code>st merge</code>).',

        'cmd.discover.desc': "Auto-detect the stack tree by scanning open PRs' base branch relationships. No manual metadata setup needed.",
        'cmd.discover.when': "After creating stacked PRs, or when you re-target a PR's base branch to form a new stack",
        'cmd.discover.what': "Recursively finds child PRs via base branch, updates metadata in each PR body, and reports if any children need restacking",

        'cmd.restack.desc': "Rebase all direct child branches onto this PR's latest head. Use after pushing new commits to a parent PR.",
        'cmd.restack.when': 'After updating a parent PR with new commits, or when <code>st discover</code> shows âš ï¸ indicators',
        'cmd.restack.what': 'Runs <code>git rebase --onto</code> for each child branch and force-pushes. Posts conflict resolution commands if rebase fails',

        'cmd.merge.desc': 'Merge this PR into its base branch, then automatically restack all child branches.',
        'cmd.merge.when': 'When this PR is approved and ready to merge, but child PRs still need more work',
        'cmd.merge.what': 'Squash-merges the PR, rebases children onto the base branch (e.g., <code>main</code>), and updates each child\'s base branch reference',

        'cmd.mergeAll.desc': 'Merge the entire stack in DFS order. Each PR is rebased, merged, then its children are processed.',
        'cmd.mergeAll.when': 'When the entire stack is reviewed and approved â€” merge everything at once',
        'cmd.mergeAll.what': 'Checks approval status on all PRs, then sequentially rebases and merges each one. Retries up to 10 min per PR for CI to pass',
        'cmd.mergeAll.options': 'Add <code>--force</code> to skip the approval check (e.g., <code>st merge-all --force</code>)',

        'cmd.help.desc': 'Show available commands and the current stack structure detected from metadata.',

        'autoupdate.heading': 'Auto-update on Manual Merge',
        'autoupdate.intro': 'Merged a parent PR through GitHub UI instead of <code>st merge</code>? Staqd has you covered.',
        'autoupdate.desc': 'When a parent PR with stack metadata is merged (by any method), Staqd automatically detects the <code>closed</code> event and:',
        'autoupdate.baseUpdate': 'Each child PR\'s base branch is re-targeted to the parent\'s base (e.g., <code>main</code>), preventing orphaned PRs',
        'autoupdate.notification': 'A comment is posted on each child PR with the updated base and a reminder to run <code>st restack</code> if needed',
        'autoupdate.requirement': 'Add <code>closed</code> to your workflow\'s <code>pull_request.types</code>: <code>[opened, edited, closed]</code>',

        'howitworks.heading': 'How It Works',
        'howitworks.intro': 'Everything reduces to one elegant git command:',
        'howitworks.diagramBefore': 'Before (feat-1 squash-merged into main):',
        'howitworks.diagramAfter': 'After rebasing:',
        'howitworks.explanation': 'The skip SHA (<code>old_parent_tip_sha</code>) comes from GitHub\'s PR API, which preserves <code>head.sha</code> even after merge. No database needed.',

        'comparison.heading': 'Comparison',
        'comparison.intro': 'How Staqd compares to other stacked PR tools',
        'comparison.installation': 'Installation',
        'comparison.stackStorage': 'Stack storage',
        'comparison.restackTrigger': 'Restack trigger',
        'comparison.conflictResolution': 'Conflict resolution',
        'comparison.treeStacks': 'Tree stacks',
        'comparison.mergeQueue': 'Merge queue',
        'comparison.externalDep': 'External dependency',
        'comparison.staqd.installation': 'None (workflow file)',
        'comparison.staqd.storage': 'PR body HTML comments',
        'comparison.staqd.trigger': 'PR comment',
        'comparison.staqd.conflict': 'Async (Actions â†’ local fix â†’ push)',
        'comparison.staqd.tree': 'Supported (siblings)',
        'comparison.staqd.mergeQueue': 'Comment-based',
        'comparison.staqd.external': 'None',
        'comparison.graphite.installation': 'CLI + account',
        'comparison.graphite.storage': '.graphite_info + server',
        'comparison.graphite.conflict': 'Sync (terminal)',
        'comparison.graphite.tree': 'Supported (DAG)',
        'comparison.graphite.mergeQueue': 'Dedicated UI',
        'comparison.ghstack.storage': 'Commit metadata',
        'comparison.ghstack.conflict': 'Sync (terminal)',
        'comparison.ghstack.tree': 'Linear only',
        'comparison.ghstack.mergeQueue': 'None',
        'comparison.ghstack.external': 'None',

        'footer.docs': 'Documentation',
        'footer.issues': 'Issues',
        'footer.license': 'License',
        'footer.copy': 'MIT License Â© 2025 siner308 Â· Built with â¤ï¸ for developers who stack PRs',

        'common.copy': 'Copy',
        'common.whenToUse': 'When to use',
        'common.whatItDoes': 'What it does',
        'common.exampleOutput': 'Example output',
        'common.options': 'Options',
        'common.baseUpdate': 'Base update',
        'common.notification': 'Notification',
        'common.requirement': 'Requirement',
        'toast.linkCopied': 'Link copied!',
        'toast.pageCopied': 'Copied as Markdown!',

        'md.trigger': 'Copy page',
        'md.copyTitle': 'Copy page',
        'md.copyDesc': 'Copy page as Markdown for LLMs',
        'md.viewTitle': 'View as Markdown',
        'md.viewDesc': 'View this page as plain text'
      },
      ko: {
        'hero.badge': 'ì˜¤í”ˆ ì†ŒìŠ¤ Â· MIT ë¼ì´ì„ ìŠ¤',
        'hero.pronunciation': '/stakt/ â€” "stacked"ì²˜ëŸ¼ ë°œìŒí•©ë‹ˆë‹¤',
        'hero.tagline': 'GitHub Actionsì™€ PR ì½”ë©˜íŠ¸ë¡œ ë™ì‘í•˜ëŠ” Stacked PR ë¨¸ì§€ í',
        'hero.viewGithub': 'GitHubì—ì„œ ë³´ê¸°',
        'hero.getStarted': 'ì‹œì‘í•˜ê¸°',

        'features.heading': 'ì„¤ì • ì—†ì´ ë°”ë¡œ ì‹œì‘í•˜ì„¸ìš”',
        'features.intro': 'CLIë¥¼ ì„¤ì¹˜í•  í•„ìš” ì—†ìŠµë‹ˆë‹¤. SaaSì— ì˜ì¡´í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì›Œí¬í”Œë¡œìš° íŒŒì¼ í•˜ë‚˜ë©´ ì¶©ë¶„í•©ë‹ˆë‹¤.',
        'features.noCli': 'CLI ì—†ìŒ',
        'features.noCliDesc': 'ìˆœìˆ˜ GitHub Actions ê¸°ë°˜ì…ë‹ˆë‹¤. íŒ€ ì „ì²´ì— ë³„ë„ë¡œ ì„¤ì¹˜í•˜ê±°ë‚˜ ê´€ë¦¬í•  ë°”ì´ë„ˆë¦¬ê°€ ì—†ìŠµë‹ˆë‹¤.',
        'features.noSaas': 'SaaS ì—†ìŒ',
        'features.noSaasDesc': 'ì™¸ë¶€ ì„œë¹„ìŠ¤ë„, ê³„ì • ìƒì„±ë„, API í• ë‹¹ëŸ‰ë„ í•„ìš” ì—†ìŠµë‹ˆë‹¤. ë‹¹ì‹ ì˜ ì €ì¥ì†Œì—ì„œ ì§ì ‘ ê´€ë¦¬í•˜ì„¸ìš”.',
        'features.justYaml': 'YAML í•˜ë‚˜ë©´ ë',
        'features.justYamlDesc': 'ì›Œí¬í”Œë¡œìš° íŒŒì¼ í•˜ë‚˜ë§Œ ì¶”ê°€í•˜ë©´ ë©ë‹ˆë‹¤. ë³µì‚¬í•˜ê³  ì»¤ë°‹í•˜ë©´ ì¤€ë¹„ ì™„ë£Œ. ìŠ¤íƒ ë©”íƒ€ë°ì´í„°ëŠ” PR ë³¸ë¬¸ì— ì €ì¥ë©ë‹ˆë‹¤.',

        'quickstart.heading': 'ë¹ ë¥¸ ì‹œì‘',
        'quickstart.intro': '<code>.github/workflows/staqd.yml</code>ì— ì´ ì›Œí¬í”Œë¡œìš°ë¥¼ ì¶”ê°€í•˜ì„¸ìš”',

        'commands.heading': 'ëª…ë ¹ì–´',
        'commands.intro': 'PRì— ì½”ë©˜íŠ¸ë¥¼ ë‚¨ê²¨ ì‘ì—…ì„ ì‹¤í–‰í•˜ì„¸ìš”. ëª¨ë“  ëª…ë ¹ì–´ëŠ” ë‹¨ì¶• ë³„ì¹­ <code>st</code>ë¥¼ ì§€ì›í•©ë‹ˆë‹¤ (ì˜ˆ: <code>st merge</code>).',

        'cmd.discover.desc': 'ì—´ë ¤ ìˆëŠ” PRì˜ ë² ì´ìŠ¤ ë¸Œëœì¹˜ ê´€ê³„ë¥¼ ìŠ¤ìº”í•˜ì—¬ ìŠ¤íƒ íŠ¸ë¦¬ë¥¼ ìë™ìœ¼ë¡œ ê°ì§€í•©ë‹ˆë‹¤. ìˆ˜ë™ ë©”íƒ€ë°ì´í„° ì„¤ì •ì€ í•„ìš” ì—†ìŠµë‹ˆë‹¤.',
        'cmd.discover.when': 'ìŠ¤íƒ PRì„ ë§Œë“  í›„, ë˜ëŠ” PRì˜ ë² ì´ìŠ¤ ë¸Œëœì¹˜ë¥¼ ë³€ê²½í•˜ì—¬ ìƒˆë¡œìš´ ìŠ¤íƒì„ êµ¬ì„±í•  ë•Œ ì‚¬ìš©í•˜ì„¸ìš”',
        'cmd.discover.what': 'ë² ì´ìŠ¤ ë¸Œëœì¹˜ë¥¼ ë”°ë¼ í•˜ìœ„ PRì„ ì¬ê·€ì ìœ¼ë¡œ ì°¾ê³ , ê° PR ë³¸ë¬¸ì˜ ë©”íƒ€ë°ì´í„°ë¥¼ ì—…ë°ì´íŠ¸í•˜ë©°, ë¦¬ìŠ¤íƒì´ í•„ìš”í•œ í•­ëª©ì„ ì•Œë ¤ì¤ë‹ˆë‹¤',

        'cmd.restack.desc': 'ì´ PRì˜ ìµœì‹  headë¥¼ ê¸°ì¤€ìœ¼ë¡œ ëª¨ë“  ì§ê³„ í•˜ìœ„ ë¸Œëœì¹˜ë¥¼ ë¦¬ë² ì´ìŠ¤í•©ë‹ˆë‹¤. ìƒìœ„ PRì— ìƒˆ ì»¤ë°‹ì„ í‘¸ì‹œí•œ í›„ ì‚¬ìš©í•˜ì„¸ìš”.',
        'cmd.restack.when': 'ìƒìœ„ PRì— ìƒˆ ì»¤ë°‹ì„ ì¶”ê°€í•œ í›„, ë˜ëŠ” <code>st discover</code>ì—ì„œ âš ï¸ í‘œì‹œê°€ ë‚˜íƒ€ë‚  ë•Œ ì‚¬ìš©í•˜ì„¸ìš”',
        'cmd.restack.what': 'ê° í•˜ìœ„ ë¸Œëœì¹˜ì— <code>git rebase --onto</code>ë¥¼ ì‹¤í–‰í•˜ê³  ê°•ì œ í‘¸ì‹œí•©ë‹ˆë‹¤. ë¦¬ë² ì´ìŠ¤ ì‹¤íŒ¨ ì‹œ ì¶©ëŒ í•´ê²° ëª…ë ¹ì–´ë¥¼ ì•ˆë‚´í•©ë‹ˆë‹¤',

        'cmd.merge.desc': 'ì´ PRì„ ë² ì´ìŠ¤ ë¸Œëœì¹˜ì— ë¨¸ì§€í•œ í›„, ëª¨ë“  í•˜ìœ„ ë¸Œëœì¹˜ë¥¼ ìë™ìœ¼ë¡œ ë¦¬ìŠ¤íƒí•©ë‹ˆë‹¤.',
        'cmd.merge.when': 'ì´ PRì´ ìŠ¹ì¸ë˜ì–´ ë¨¸ì§€í•  ì¤€ë¹„ê°€ ëì§€ë§Œ, í•˜ìœ„ PRì€ ì•„ì§ ì‘ì—…ì´ í•„ìš”í•  ë•Œ ì‚¬ìš©í•˜ì„¸ìš”',
        'cmd.merge.what': 'PRì„ ìŠ¤ì¿¼ì‹œ ë¨¸ì§€í•˜ê³ , í•˜ìœ„ ë¸Œëœì¹˜ë¥¼ ë² ì´ìŠ¤ ë¸Œëœì¹˜(ì˜ˆ: <code>main</code>)ì— ë¦¬ë² ì´ìŠ¤í•˜ë©°, ê° í•˜ìœ„ PRì˜ ë² ì´ìŠ¤ ë¸Œëœì¹˜ë¥¼ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤',

        'cmd.mergeAll.desc': 'ì „ì²´ ìŠ¤íƒì„ DFS ìˆœì„œë¡œ ë¨¸ì§€í•©ë‹ˆë‹¤. ê° PRì„ ë¦¬ë² ì´ìŠ¤í•˜ê³  ë¨¸ì§€í•œ í›„, í•˜ìœ„ PRì„ ìˆœì°¨ì ìœ¼ë¡œ ì²˜ë¦¬í•©ë‹ˆë‹¤.',
        'cmd.mergeAll.when': 'ì „ì²´ ìŠ¤íƒì˜ ë¦¬ë·°ì™€ ìŠ¹ì¸ì´ ì™„ë£Œë˜ì—ˆì„ ë•Œ ì‚¬ìš©í•˜ì„¸ìš” â€” í•œë²ˆì— ëª¨ë‘ ë¨¸ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤',
        'cmd.mergeAll.what': 'ëª¨ë“  PRì˜ ìŠ¹ì¸ ìƒíƒœë¥¼ í™•ì¸í•œ í›„ ìˆœì°¨ì ìœ¼ë¡œ ë¦¬ë² ì´ìŠ¤ ë° ë¨¸ì§€í•©ë‹ˆë‹¤. PRë‹¹ ìµœëŒ€ 10ë¶„ê¹Œì§€ CI í†µê³¼ë¥¼ ì¬ì‹œë„í•©ë‹ˆë‹¤',
        'cmd.mergeAll.options': '<code>--force</code>ë¥¼ ì¶”ê°€í•˜ë©´ ìŠ¹ì¸ í™•ì¸ì„ ê±´ë„ˆëœë‹ˆë‹¤ (ì˜ˆ: <code>st merge-all --force</code>)',

        'cmd.help.desc': 'ì‚¬ìš© ê°€ëŠ¥í•œ ëª…ë ¹ì–´ì™€ ë©”íƒ€ë°ì´í„°ì—ì„œ ê°ì§€ëœ í˜„ì¬ ìŠ¤íƒ êµ¬ì¡°ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤.',

        'autoupdate.heading': 'ìˆ˜ë™ ë¨¸ì§€ ì‹œ ìë™ ì—…ë°ì´íŠ¸',
        'autoupdate.intro': 'GitHub UIì—ì„œ <code>st merge</code> ëŒ€ì‹  ì§ì ‘ ìƒìœ„ PRì„ ë¨¸ì§€í•˜ì…¨ë‚˜ìš”? Staqdê°€ ì•Œì•„ì„œ ì²˜ë¦¬í•©ë‹ˆë‹¤.',
        'autoupdate.desc': 'ìŠ¤íƒ ë©”íƒ€ë°ì´í„°ê°€ í¬í•¨ëœ ìƒìœ„ PRì´ ë¨¸ì§€ë˜ë©´, Staqdê°€ <code>closed</code> ì´ë²¤íŠ¸ë¥¼ ìë™ìœ¼ë¡œ ê°ì§€í•˜ì—¬ ë‹¤ìŒì„ ìˆ˜í–‰í•©ë‹ˆë‹¤:',
        'autoupdate.baseUpdate': 'ê° í•˜ìœ„ PRì˜ ë² ì´ìŠ¤ ë¸Œëœì¹˜ë¥¼ ìƒìœ„ì˜ ë² ì´ìŠ¤(ì˜ˆ: <code>main</code>)ë¡œ ì¬ì§€ì •í•˜ì—¬, ê³ ì•„ PRì´ ìƒê¸°ëŠ” ê²ƒì„ ë°©ì§€í•©ë‹ˆë‹¤',
        'autoupdate.notification': 'ê° í•˜ìœ„ PRì— ì—…ë°ì´íŠ¸ëœ ë² ì´ìŠ¤ ì •ë³´ì™€ í•„ìš”í•œ ê²½ìš° <code>st restack</code> ì‹¤í–‰ì„ ì•ˆë‚´í•˜ëŠ” ì½”ë©˜íŠ¸ë¥¼ ë‚¨ê¹ë‹ˆë‹¤',
        'autoupdate.requirement': 'ì›Œí¬í”Œë¡œìš°ì˜ <code>pull_request.types</code>ì— <code>closed</code>ë¥¼ ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤: <code>[opened, edited, closed]</code>',

        'howitworks.heading': 'ì‘ë™ ì›ë¦¬',
        'howitworks.intro': 'í•µì‹¬ì€ í•˜ë‚˜ì˜ git ëª…ë ¹ì–´ë¡œ ê·€ê²°ë©ë‹ˆë‹¤:',
        'howitworks.diagramBefore': 'Before (feat-1ì´ mainì— ìŠ¤ì¿¼ì‹œ ë¨¸ì§€ëœ ìƒíƒœ):',
        'howitworks.diagramAfter': 'ë¦¬ë² ì´ìŠ¤ í›„:',
        'howitworks.explanation': 'ìŠ¤í‚µ SHA(<code>old_parent_tip_sha</code>)ëŠ” GitHub PR APIì—ì„œ ê°€ì ¸ì˜µë‹ˆë‹¤. ë¨¸ì§€ í›„ì—ë„ <code>head.sha</code>ê°€ ë³´ì¡´ë˜ê¸° ë•Œë¬¸ì— ë³„ë„ì˜ ë°ì´í„°ë² ì´ìŠ¤ê°€ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.',

        'comparison.heading': 'ë¹„êµ',
        'comparison.intro': 'ë‹¤ë¥¸ Stacked PR ë„êµ¬ì™€ Staqdë¥¼ ë¹„êµí•´ ë³´ì„¸ìš”',
        'comparison.installation': 'ì„¤ì¹˜ ë°©ë²•',
        'comparison.stackStorage': 'ìŠ¤íƒ ì €ì¥ì†Œ',
        'comparison.restackTrigger': 'ë¦¬ìŠ¤íƒ íŠ¸ë¦¬ê±°',
        'comparison.conflictResolution': 'ì¶©ëŒ í•´ê²°',
        'comparison.treeStacks': 'íŠ¸ë¦¬ ìŠ¤íƒ',
        'comparison.mergeQueue': 'ë¨¸ì§€ í',
        'comparison.externalDep': 'ì™¸ë¶€ ì˜ì¡´ì„±',
        'comparison.staqd.installation': 'ì—†ìŒ (ì›Œí¬í”Œë¡œìš° íŒŒì¼)',
        'comparison.staqd.storage': 'PR ë³¸ë¬¸ HTML ì½”ë©˜íŠ¸',
        'comparison.staqd.trigger': 'PR ì½”ë©˜íŠ¸',
        'comparison.staqd.conflict': 'ë¹„ë™ê¸° (Actions â†’ ë¡œì»¬ ìˆ˜ì • â†’ í‘¸ì‹œ)',
        'comparison.staqd.tree': 'ì§€ì› (í˜•ì œ ë¸Œëœì¹˜)',
        'comparison.staqd.mergeQueue': 'ì½”ë©˜íŠ¸ ê¸°ë°˜',
        'comparison.staqd.external': 'ì—†ìŒ',
        'comparison.graphite.installation': 'CLI + ê³„ì •',
        'comparison.graphite.storage': '.graphite_info + ì„œë²„',
        'comparison.graphite.conflict': 'ë™ê¸° (í„°ë¯¸ë„)',
        'comparison.graphite.tree': 'ì§€ì› (DAG)',
        'comparison.graphite.mergeQueue': 'ì „ìš© UI',
        'comparison.ghstack.storage': 'ì»¤ë°‹ ë©”íƒ€ë°ì´í„°',
        'comparison.ghstack.conflict': 'ë™ê¸° (í„°ë¯¸ë„)',
        'comparison.ghstack.tree': 'ì„ í˜•ë§Œ ê°€ëŠ¥',
        'comparison.ghstack.mergeQueue': 'ì—†ìŒ',
        'comparison.ghstack.external': 'ì—†ìŒ',

        'footer.docs': 'ë¬¸ì„œ',
        'footer.issues': 'ì´ìŠˆ',
        'footer.license': 'ë¼ì´ì„ ìŠ¤',
        'footer.copy': 'MIT License Â© 2025 siner308 Â· PRì„ ìŒ“ëŠ” ê°œë°œìë¥¼ ìœ„í•´ â¤ï¸ë¡œ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤',

        'common.copy': 'ë³µì‚¬',
        'common.whenToUse': 'ì‚¬ìš© ì‹œê¸°',
        'common.whatItDoes': 'ë™ì‘ ë°©ì‹',
        'common.exampleOutput': 'ì¶œë ¥ ì˜ˆì‹œ',
        'common.options': 'ì˜µì…˜',
        'common.baseUpdate': 'ë² ì´ìŠ¤ ì—…ë°ì´íŠ¸',
        'common.notification': 'ì•Œë¦¼',
        'common.requirement': 'í•„ìˆ˜ ì¡°ê±´',
        'toast.linkCopied': 'ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!',
        'toast.pageCopied': 'Markdownìœ¼ë¡œ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!',

        'md.trigger': 'í˜ì´ì§€ ë³µì‚¬',
        'md.copyTitle': 'í˜ì´ì§€ ë³µì‚¬',
        'md.copyDesc': 'LLMìš© Markdownìœ¼ë¡œ ë³µì‚¬í•©ë‹ˆë‹¤',
        'md.viewTitle': 'Markdownìœ¼ë¡œ ë³´ê¸°',
        'md.viewDesc': 'ì´ í˜ì´ì§€ë¥¼ í…ìŠ¤íŠ¸ë¡œ ë´…ë‹ˆë‹¤'
      }
    };

    function setLang(lang) {
      // Update toggle buttons
      document.getElementById('lang-en').classList.toggle('active', lang === 'en');
      document.getElementById('lang-ko').classList.toggle('active', lang === 'ko');

      // Update html lang attribute
      document.documentElement.lang = lang;

      // Apply text translations
      document.querySelectorAll('[data-i18n]').forEach(function(el) {
        var key = el.getAttribute('data-i18n');
        if (translations[lang] && translations[lang][key]) {
          el.textContent = translations[lang][key];
        }
      });

      // Apply HTML translations
      document.querySelectorAll('[data-i18n-html]').forEach(function(el) {
        var key = el.getAttribute('data-i18n-html');
        if (translations[lang] && translations[lang][key]) {
          el.innerHTML = translations[lang][key];
        }
      });

      // Persist preference
      localStorage.setItem('staqd-lang', lang);
    }

    // Markdown menu toggle
    function toggleMdMenu() {
      document.getElementById('md-menu').classList.toggle('open');
    }

    // Close menu when clicking outside
    document.addEventListener('click', function(e) {
      var menu = document.getElementById('md-menu');
      if (!menu.contains(e.target)) {
        menu.classList.remove('open');
      }
    });

    // Copy page as markdown
    function copyPageMarkdown() {
      fetch('llms-full.txt')
        .then(function(r) { return r.text(); })
        .then(function(text) {
          navigator.clipboard.writeText(text).then(function() {
            var lang = localStorage.getItem('staqd-lang') || 'en';
            var toast = document.getElementById('copy-toast');
            toast.textContent = translations[lang]['toast.pageCopied'];
            toast.classList.add('show');
            setTimeout(function() { toast.classList.remove('show'); }, 1500);
          });
        });
      document.getElementById('md-menu').classList.remove('open');
    }

    // Copy code block content
    function copyCode(btn) {
      var code = btn.closest('.code-block').querySelector('code');
      var lang = localStorage.getItem('staqd-lang') || 'en';
      navigator.clipboard.writeText(code.textContent).then(function() {
        var copiedText = lang === 'ko' ? 'ë³µì‚¬ë¨!' : 'Copied!';
        var copyText = translations[lang]['common.copy'];
        btn.textContent = copiedText;
        btn.classList.add('copied');
        setTimeout(function() {
          btn.textContent = copyText;
          btn.classList.remove('copied');
        }, 2000);
      });
    }

    // Click anchor links to copy the full URL to clipboard
    document.querySelectorAll('.anchor-link, .cmd-anchor').forEach(function(link) {
      link.addEventListener('click', function(e) {
        e.preventDefault();
        var url = window.location.origin + window.location.pathname + this.getAttribute('href');
        navigator.clipboard.writeText(url).then(function() {
          var toast = document.getElementById('copy-toast');
          toast.classList.add('show');
          setTimeout(function() { toast.classList.remove('show'); }, 1500);
        });
        // Still update the hash for navigation
        history.pushState(null, null, this.getAttribute('href'));
      });
    });

    // Initialize language on page load
    (function() {
      var saved = localStorage.getItem('staqd-lang');
      if (saved && translations[saved]) {
        setLang(saved);
      } else if (navigator.language && navigator.language.startsWith('ko')) {
        setLang('ko');
      }
    })();
  </script>

</body>
</html>
